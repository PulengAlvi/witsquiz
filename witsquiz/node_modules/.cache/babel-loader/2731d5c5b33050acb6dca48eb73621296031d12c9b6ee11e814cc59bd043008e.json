{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Duma/OneDrive - University of Witwatersrand/Documents/GitHub/witsquiz/witsquiz/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Duma/OneDrive - University of Witwatersrand/Documents/GitHub/witsquiz/witsquiz/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";// Import the functions you need from the SDKs you need\nimport{initializeApp}from\"firebase/app\";//import { getAnalytics } from \"firebase/analytics\";\nimport{getAuth,GoogleAuthProvider,updateProfile}from\"firebase/auth\";import{getDownloadURL,getStorage,ref,uploadBytes}from\"firebase/storage\";// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nvar firebaseConfig={apiKey:\"AIzaSyBNPWqWrvcGUEFhH89YIFMQNrRnuVCOO9Q\",authDomain:\"witsquiz.firebaseapp.com\",projectId:\"witsquiz\",storageBucket:\"witsquiz.appspot.com\",messagingSenderId:\"181567589133\",appId:\"1:181567589133:web:559f28178c51e7a55a7e44\",measurementId:\"G-3GLGV18V8H\"};// Initialize Firebase\nvar app=initializeApp(firebaseConfig);var storage=getStorage();export var auth=getAuth(app);export var googleProvider=new GoogleAuthProvider();//const analytics = getAnalytics(app);\n/*\r\n// Custom Hook\r\nexport function useAuth() {\r\n  const [ currentUser, setCurrentUser ] = useState();\r\n\r\n  useEffect(() => {\r\n    const unsub = onAuthStateChanged(auth, user => setCurrentUser(user));\r\n    return unsub;\r\n  }, [])\r\n\r\n  return currentUser;\r\n}*/ //Storage\nexport function upload(_x,_x2,_x3){return _upload.apply(this,arguments);}function _upload(){_upload=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(file,currentUser,setLoading){var fileRef,photoURL;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:fileRef=ref(storage,\"profilepic/\"+currentUser.uid+\".png\");setLoading(true);_context.next=4;return uploadBytes(fileRef,file);case 4:_context.next=6;return getDownloadURL(fileRef);case 6:photoURL=_context.sent;updateProfile(currentUser,{photoURL:photoURL});setLoading(false);alert(\"New Profile Picture Uploaded!!!\");case 10:case\"end\":return _context.stop();}},_callee);}));return _upload.apply(this,arguments);}","map":{"version":3,"names":["initializeApp","getAuth","GoogleAuthProvider","updateProfile","getDownloadURL","getStorage","ref","uploadBytes","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","storage","auth","googleProvider","upload","_x","_x2","_x3","_upload","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","file","currentUser","setLoading","fileRef","photoURL","wrap","_callee$","_context","prev","next","uid","sent","alert","stop"],"sources":["C:/Users/Duma/OneDrive - University of Witwatersrand/Documents/GitHub/witsquiz/witsquiz/src/config/firebase.js"],"sourcesContent":["// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\n//import { getAnalytics } from \"firebase/analytics\";\r\nimport {getAuth, GoogleAuthProvider, updateProfile} from \"firebase/auth\"\r\nimport { getDownloadURL, getStorage, ref, uploadBytes} from \"firebase/storage\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBNPWqWrvcGUEFhH89YIFMQNrRnuVCOO9Q\",\r\n  authDomain: \"witsquiz.firebaseapp.com\",\r\n  projectId: \"witsquiz\",\r\n  storageBucket: \"witsquiz.appspot.com\",\r\n  messagingSenderId: \"181567589133\",\r\n  appId: \"1:181567589133:web:559f28178c51e7a55a7e44\",\r\n  measurementId: \"G-3GLGV18V8H\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nconst storage = getStorage();\r\nexport const auth = getAuth(app);\r\nexport const googleProvider = new GoogleAuthProvider();\r\n//const analytics = getAnalytics(app);\r\n/*\r\n// Custom Hook\r\nexport function useAuth() {\r\n  const [ currentUser, setCurrentUser ] = useState();\r\n\r\n  useEffect(() => {\r\n    const unsub = onAuthStateChanged(auth, user => setCurrentUser(user));\r\n    return unsub;\r\n  }, [])\r\n\r\n  return currentUser;\r\n}*/\r\n\r\n//Storage\r\nexport async function upload(file, currentUser, setLoading){\r\n  const fileRef = ref(storage, \"profilepic/\"+currentUser.uid+\".png\");\r\n  setLoading(true);\r\n  await uploadBytes(fileRef,file);\r\n  const photoURL = await getDownloadURL(fileRef);\r\n  updateProfile(currentUser, {photoURL})\r\n  setLoading(false);\r\n  alert(\"New Profile Picture Uploaded!!!\");\r\n}\r\n"],"mappings":"0WAAA;AACA,OAASA,aAAa,KAAQ,cAAc,CAC5C;AACA,OAAQC,OAAO,CAAEC,kBAAkB,CAAEC,aAAa,KAAO,eAAe,CACxE,OAASC,cAAc,CAAEC,UAAU,CAAEC,GAAG,CAAEC,WAAW,KAAO,kBAAkB,CAC9E;AACA;AAEA;AACA;AACA,GAAM,CAAAC,cAAc,CAAG,CACrBC,MAAM,CAAE,yCAAyC,CACjDC,UAAU,CAAE,0BAA0B,CACtCC,SAAS,CAAE,UAAU,CACrBC,aAAa,CAAE,sBAAsB,CACrCC,iBAAiB,CAAE,cAAc,CACjCC,KAAK,CAAE,2CAA2C,CAClDC,aAAa,CAAE,cACjB,CAAC,CAED;AACA,GAAM,CAAAC,GAAG,CAAGhB,aAAa,CAACQ,cAAc,CAAC,CACzC,GAAM,CAAAS,OAAO,CAAGZ,UAAU,EAAE,CAC5B,MAAO,IAAM,CAAAa,IAAI,CAAGjB,OAAO,CAACe,GAAG,CAAC,CAChC,MAAO,IAAM,CAAAG,cAAc,CAAG,GAAI,CAAAjB,kBAAkB,EAAE,CACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAXA,CAaA;AACA,eAAsB,CAAAkB,MAAMA,CAAAC,EAAA,CAAAC,GAAA,CAAAC,GAAA,SAAAC,OAAA,CAAAC,KAAA,MAAAC,SAAA,GAQ3B,SAAAF,QAAA,EAAAA,OAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CARM,SAAAC,QAAsBC,IAAI,CAAEC,WAAW,CAAEC,UAAU,MAAAC,OAAA,CAAAC,QAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAClDN,OAAO,CAAG5B,GAAG,CAACW,OAAO,CAAE,aAAa,CAACe,WAAW,CAACS,GAAG,CAAC,MAAM,CAAC,CAClER,UAAU,CAAC,IAAI,CAAC,CAACK,QAAA,CAAAE,IAAA,SACX,CAAAjC,WAAW,CAAC2B,OAAO,CAACH,IAAI,CAAC,QAAAO,QAAA,CAAAE,IAAA,SACR,CAAApC,cAAc,CAAC8B,OAAO,CAAC,QAAxCC,QAAQ,CAAAG,QAAA,CAAAI,IAAA,CACdvC,aAAa,CAAC6B,WAAW,CAAE,CAACG,QAAQ,CAARA,QAAQ,CAAC,CAAC,CACtCF,UAAU,CAAC,KAAK,CAAC,CACjBU,KAAK,CAAC,iCAAiC,CAAC,CAAC,yBAAAL,QAAA,CAAAM,IAAA,MAAAd,OAAA,GAC1C,UAAAN,OAAA,CAAAC,KAAA,MAAAC,SAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}